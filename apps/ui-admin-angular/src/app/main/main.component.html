<ng-template #content>
    <ng-content></ng-content>
</ng-template>

<div id="main" [ngClass]="{ 'dark-mode': mainService.getDarkTheme() }" class="main animated fadeIn">

    <!-- template clear -->
    <ng-container *ngIf="mainService.templateClear">
        <ng-container *ngTemplateOutlet="content"></ng-container>
    </ng-container>

    <!-- nav backdrop -->
    <div class="animated fadeIn main-nav-backdrop" *ngIf="mainService.navState && mainService.getNavStateBackdrop()"
         (click)="mainService.colapseNav()">
    </div>

    <!-- generic components -->
    <fz-notification></fz-notification>
    <fz-loading-general></fz-loading-general>
    <fz-modal-settings></fz-modal-settings>
    <fz-floating-card></fz-floating-card>

    <!-- template geral -->
    <ng-container *ngIf="!mainService.templateClear">

        <!-- nav -->
        <nav [ngClass]="{ 'show': mainService.navState, 'hide': !mainService.navState, 'z-index': mainService.navState && mainService.getNavStateBackdrop() }"
             class="main-nav main-nav-area animate-width main-nav-theme-{{ mainService.getNavTheme() }} {{ mainService.getNavPosition() }}">
            <div *ngIf="mainService.getNavBackgroundImageState()"
                 [ngClass]="{ 'show': mainService.navState, 'hide': !mainService.navState }"
                 class="main-nav-bg-img main-nav-area animate-width {{ mainService.getNavPosition() }}"
                 [ngStyle]="{ 'background-image': navBackgroundSrc }"></div>
            <fz-main-nav></fz-main-nav>
        </nav>

        <!-- container -->
        <div class="main-section {{ mainService.boxContainerMargin }}">

            <!-- header -->
            <header [ngClass]="{ 'main-header-fixed': mainService.getHeaderFixed() }"
                    class="main-header {{ headerColor }}">
                <fz-main-header></fz-main-header>
            </header>

            <!-- content -->
            <section [ngClass]="{ 'main-content-dark': mainService.getDarkTheme() }" class="main-content">
                <div class="h-100" [ngClass]="{ 'container mb-3 mt-3': !mainService.getFullBox(), 'main-content-padding': mainService.getFullBox() }">
                    <ng-container *ngTemplateOutlet="content"></ng-container>
                </div>
            </section>

            <!-- footer -->
            <footer>
                <fz-main-footer></fz-main-footer>
            </footer>

        </div>

    </ng-container>

</div>
