<div class="area-ext" [ngClass]="{ 'area-ext-dark': mainService.getDarkTheme() }">
    <div class="area-ext-img" style="background-image: url('assets/images/background5.jpg');"></div>

    <div *ngIf="oobValid === false" fzColor textColor="white" class="area-ext-center text-center">

        <h1 class="animated fadeIn"><i class="fas fa-bomb animated pulse animated-infinite"></i> Expired Link</h1>

        <p class="animated fadeIn">This link has expired. Click below to request a new password reset link.</p>

        <div>
            <a routerLink="/recover-password">
                <button class="mt-3 animated fadeIn animated-delay-0_5s " fzButton [rounded]="true" color="light"
                        [lrLargeB]="true"><i class="fas fa-link"></i> Get new link
                </button>
            </a>
        </div>

    </div>

    <fz-card *ngIf="oobValid" class="area-ext-center animated fadeIn">
        <div class="card-auth-title">
            Reset <strong>Password</strong>
        </div>
        <form [formGroup]="resetForm" (ngSubmit)="resetPassword()">
            <div class="form-group">
                <input [ngClass]="password1.invalid && (password1.dirty || password1.touched) ? 'is-invalid' : ''" formControlName="password1" name="password1" id="password1" type="password" fzFocus [focusState]="true" class="form-control ng-invalid" placeholder="Password" required>
                <div *ngIf="password1.invalid && (password1.dirty || password1.touched)">
                    <small *ngIf="password1.errors.required" class="text-danger">
                        Required
                    </small>
                    <small *ngIf="password1.errors.pattern" class="text-danger">
                        Password must contain at least 8 characters, an Upper and Lower case character, one number and a special character
                    </small>
                </div>
            </div>
            <div class="form-group">
                <input [ngClass]="(resetForm.errors?.passwordsDontMatch || password2.invalid) && (password2.dirty || password2.touched) ? 'is-invalid' : ''" formControlName="password2" name="password2" id="password2" type="password" class="form-control" placeholder="Confirm Password" required>
                <div *ngIf="resetForm.errors?.passwordsDontMatch || password2.invalid && (password2.dirty || password2.touched)">
                    <small *ngIf="password2.errors?.required" class="text-danger">
                        Required
                        <br>
                    </small>
                    <small *ngIf="resetForm.errors?.passwordsDontMatch" class="text-danger">
                        Passwords must match
                    </small>
                </div>
            </div>

            <div class="d-flex flex-column mt-4">
                <button [disabled]="!resetForm.valid" fzButton [blockB]="true" color="primary" type="submit">
                    Reset
                </button>
            </div>
        </form>
    </fz-card>
</div>
